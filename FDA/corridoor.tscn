[gd_scene load_steps=29 format=1]

[ext_resource path="res://character/Milkey.scn" type="PackedScene" id=1]
[ext_resource path="res://room models/cam.tscn" type="PackedScene" id=2]
[ext_resource path="res://resources/stone_tiles_white_20160408_1917697932.tex" type="Texture" id=3]
[ext_resource path="res://textures/Hand-texture-3_1.tex" type="Texture" id=4]
[ext_resource path="res://room models/door.tscn" type="PackedScene" id=5]
[ext_resource path="res://room models/window.tscn" type="PackedScene" id=6]
[ext_resource path="res://room models/ceiling.tscn" type="PackedScene" id=7]
[ext_resource path="res://textures/lift.jpg" type="Texture" id=8]
[ext_resource path="res://room models/stairs_up.scn" type="PackedScene" id=9]
[ext_resource path="res://textures/aiga-stairs.png" type="Texture" id=10]
[ext_resource path="res://textures/elevator.png" type="Texture" id=11]
[ext_resource path="res://bouldeer.tscn" type="PackedScene" id=12]
[ext_resource path="res://bouldercreater.gd" type="Script" id=13]
[ext_resource path="res://room models/touch buttons.tscn" type="PackedScene" id=14]

[sub_resource type="Environment" id=5]

ambient_light/enabled = true
ambient_light/color = Color( 0.605469, 0.605469, 0.605469, 1 )
ambient_light/energy = 1.0
fxaa/enabled = false
background/mode = 1
background/color = Color( 0, 0, 0, 1 )
background/energy = 1.0
background/scale = 1.0
background/glow = 0.0
background/canvas_max_layer = null
glow/enabled = false
glow/blur_passes = 1
glow/blur_scale = 1
glow/blur_strength = 1
glow/blur_blend_mode = null
glow/bloom = 0.0
glow/bloom_treshold = 0.5
dof_blur/enabled = false
dof_blur/blur_passes = 1
dof_blur/begin = 100.0
dof_blur/range = 10.0
hdr/enabled = false
hdr/tonemapper = 0
hdr/exposure = 0.4
hdr/white = 1.0
hdr/glow_treshold = 0.95
hdr/glow_scale = 0.2
hdr/min_luminance = 0.4
hdr/max_luminance = 8.0
hdr/exposure_adj_speed = 0.5
fog/enabled = false
fog/begin = 100.0
fog/begin_color = Color( 0, 0, 0, 1 )
fog/end_color = Color( 0, 0, 0, 1 )
fog/attenuation = 1.0
fog/bg = true
bcs/enabled = false
bcs/brightness = 1.0
bcs/contrast = 1.0
bcs/saturation = 1.0
srgb/enabled = false

[sub_resource type="FixedMaterial" id=1]

flags/visible = true
flags/double_sided = false
flags/invert_faces = false
flags/unshaded = false
flags/on_top = false
flags/lightmap_on_uv2 = true
flags/colarray_is_srgb = true
params/blend_mode = 0
params/depth_draw = 1
params/line_width = 0.0
fixed_flags/use_alpha = false
fixed_flags/use_color_array = false
fixed_flags/use_point_size = false
fixed_flags/discard_alpha = false
fixed_flags/use_xy_normalmap = false
params/diffuse = Color( 1, 1, 1, 1 )
params/specular = Color( 0, 0, 0, 1 )
params/emission = Color( 0, 0, 0, 1 )
params/specular_exp = 40
params/detail_mix = 1.0
params/normal_depth = 1
params/shader = 0
params/shader_param = 0.5
params/glow = 0
params/point_size = 1.0
uv_xform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
textures/diffuse = ExtResource( 3 )
textures/diffuse_tc = 1
textures/detail_tc = 0
textures/specular_tc = 0
textures/emission_tc = 0
textures/specular_exp_tc = 0
textures/glow_tc = 0
textures/normal_tc = 0
textures/shade_param_tc = 0

[sub_resource type="FixedMaterial" id=3]

flags/visible = true
flags/double_sided = false
flags/invert_faces = false
flags/unshaded = false
flags/on_top = false
flags/lightmap_on_uv2 = true
flags/colarray_is_srgb = true
params/blend_mode = 0
params/depth_draw = 1
params/line_width = 0.0
fixed_flags/use_alpha = false
fixed_flags/use_color_array = false
fixed_flags/use_point_size = false
fixed_flags/discard_alpha = false
fixed_flags/use_xy_normalmap = false
params/diffuse = Color( 1, 1, 1, 1 )
params/specular = Color( 0, 0, 0, 1 )
params/emission = Color( 0, 0, 0, 1 )
params/specular_exp = 40
params/detail_mix = 1.0
params/normal_depth = 1
params/shader = 0
params/shader_param = 0.5
params/glow = 0
params/point_size = 1.0
uv_xform = Transform( 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0 )
textures/diffuse = ExtResource( 4 )
textures/diffuse_tc = 1
textures/detail_tc = 0
textures/specular_tc = 0
textures/emission_tc = 0
textures/specular_exp_tc = 0
textures/glow_tc = 0
textures/normal_tc = 0
textures/shade_param_tc = 0

[sub_resource type="FixedMaterial" id=7]

flags/visible = true
flags/double_sided = false
flags/invert_faces = false
flags/unshaded = false
flags/on_top = false
flags/lightmap_on_uv2 = true
flags/colarray_is_srgb = true
params/blend_mode = 0
params/depth_draw = 1
params/line_width = 0.0
fixed_flags/use_alpha = false
fixed_flags/use_color_array = false
fixed_flags/use_point_size = false
fixed_flags/discard_alpha = false
fixed_flags/use_xy_normalmap = false
params/diffuse = Color( 1, 1, 1, 1 )
params/specular = Color( 0, 0, 0, 1 )
params/emission = Color( 0, 0, 0, 1 )
params/specular_exp = 40
params/detail_mix = 1.0
params/normal_depth = 1
params/shader = 0
params/shader_param = 0.5
params/glow = 0
params/point_size = 1.0
uv_xform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
textures/diffuse = ExtResource( 4 )
textures/diffuse_tc = 0
textures/detail_tc = 0
textures/specular_tc = 0
textures/emission_tc = 0
textures/specular_exp_tc = 0
textures/glow_tc = 0
textures/normal_tc = 0
textures/shade_param_tc = 0

[sub_resource type="PlaneShape" id=6]

plane = Plane( 0, 0, 1, 0 )

[sub_resource type="BoxShape" id=8]

extents = Vector3( 7.87504, 1, 1 )

[sub_resource type="PlaneShape" id=12]

plane = Plane( 0, 1, 0, 0 )

[sub_resource type="FixedMaterial" id=9]

flags/visible = true
flags/double_sided = true
flags/invert_faces = false
flags/unshaded = false
flags/on_top = false
flags/lightmap_on_uv2 = true
flags/colarray_is_srgb = true
params/blend_mode = 0
params/depth_draw = 1
params/line_width = 1.33123e-43
fixed_flags/use_alpha = false
fixed_flags/use_color_array = false
fixed_flags/use_point_size = false
fixed_flags/discard_alpha = false
fixed_flags/use_xy_normalmap = false
params/diffuse = Color( 1, 1, 1, 1 )
params/specular = Color( 0, 0, 0, 1 )
params/emission = Color( 0, 0, 0, 1 )
params/specular_exp = 40
params/detail_mix = 1.0
params/normal_depth = 1
params/shader = 0
params/shader_param = 0.5
params/glow = 0
params/point_size = 1.0
uv_xform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
textures/diffuse = ExtResource( 8 )
textures/diffuse_tc = 0
textures/detail_tc = 0
textures/specular_tc = 0
textures/emission_tc = 0
textures/specular_exp_tc = 0
textures/glow_tc = 0
textures/normal_tc = 0
textures/shade_param_tc = 0

[sub_resource type="FixedMaterial" id=10]

flags/visible = true
flags/double_sided = true
flags/invert_faces = false
flags/unshaded = false
flags/on_top = false
flags/lightmap_on_uv2 = true
flags/colarray_is_srgb = true
params/blend_mode = 0
params/depth_draw = 1
params/line_width = 0.0
fixed_flags/use_alpha = true
fixed_flags/use_color_array = false
fixed_flags/use_point_size = false
fixed_flags/discard_alpha = false
fixed_flags/use_xy_normalmap = false
params/diffuse = Color( 1, 1, 1, 1 )
params/specular = Color( 0, 0, 0, 1 )
params/emission = Color( 0, 0, 0, 1 )
params/specular_exp = 40
params/detail_mix = 1.0
params/normal_depth = 1
params/shader = 0
params/shader_param = 0.5
params/glow = 0
params/point_size = 1.0
uv_xform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
textures/diffuse = ExtResource( 10 )
textures/diffuse_tc = 0
textures/detail_tc = 0
textures/specular_tc = 0
textures/emission_tc = 0
textures/specular_exp_tc = 0
textures/glow_tc = 0
textures/normal_tc = 0
textures/shade_param_tc = 0

[sub_resource type="FixedMaterial" id=11]

flags/visible = true
flags/double_sided = true
flags/invert_faces = false
flags/unshaded = false
flags/on_top = false
flags/lightmap_on_uv2 = true
flags/colarray_is_srgb = true
params/blend_mode = 0
params/depth_draw = 1
params/line_width = 0.0
fixed_flags/use_alpha = true
fixed_flags/use_color_array = false
fixed_flags/use_point_size = false
fixed_flags/discard_alpha = false
fixed_flags/use_xy_normalmap = false
params/diffuse = Color( 1, 1, 1, 1 )
params/specular = Color( 0, 0, 0, 1 )
params/emission = Color( 0, 0, 0, 1 )
params/specular_exp = 40
params/detail_mix = 1.0
params/normal_depth = 1
params/shader = 0
params/shader_param = 0.5
params/glow = 0
params/point_size = 1.0
uv_xform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
textures/diffuse = ExtResource( 11 )
textures/diffuse_tc = 0
textures/detail_tc = 0
textures/specular_tc = 0
textures/emission_tc = 0
textures/specular_exp_tc = 0
textures/glow_tc = 0
textures/normal_tc = 0
textures/shade_param_tc = 0

[sub_resource type="GDScript" id=14]

script/source = "extends Node2D

var message
var option
func _ready():
	message=get_node(\"Messages\")
	option=get_node(\"Options\")
	messagedis(\"I managed to get out of room... But...\\nBEWARE!!\\n There're boulders falling down\")
	
func optiondis(text):
	set_hidden(false)
	option.set_text(text)
	option.set_hidden(false)
	
func messagedis(text):
	set_hidden(false)
	message.set_text(text)
	message.set_hidden(false)
	

func _on_liftarea_body_enter( body ):
	if body.is_in_group(\"player\"):
		optiondis(\"Do you want to use lift?\")


func _on_stair_area_body_enter( body ):
	if body.is_in_group(\"player\"):
		optiondis(\"Do you want to use Stairs?\")



func _on_no_button_down():
	set_hidden(true)
	option.set_hidden(true)
	get_parent().get_node(\"Milkey\").turn()


func _on_Button_button_down():
	set_hidden(true)
	message.set_hidden(true)


func _on_yes_button_down():
	if option.get_text()==\"Do you want to use lift?\":
		option.set_hidden(true)
		messagedis(\"You got it wrong.. During Earthquakes lifts are most dangerous place.. Lift usually fail and may end you getting stucked up..\") 
		message.get_node(\"Button\").connect(\"button_down\",self,\"gameover\")
	else:
		option.set_hidden(true)
		messagedis(\"That's a good Choice.., Stairs are considerably safer in case of emergencies like Earthquakes.,\\n NOW Time to GET OUTTA HERE\")
		message.get_node(\"Button\").connect(\"button_down\",self,\"gamewon\")
func gameover():
	get_tree().change_scene(\"res://conclusion.tscn\")
func gamewon():
	get_tree().change_scene(\"res://win.tscn\")"

[sub_resource type="ImageTexture" id=13]

flags = 7
image = Image()
size = Vector2( 10, 10 )
storage = 0
lossy_quality = 0.7

[sub_resource type="BoxShape" id=15]

extents = Vector3( 1, 1, 1 )

[sub_resource type="BoxShape" id=16]

extents = Vector3( 2.234, 1, 1.9848 )

[node name="Node" type="Node"]

[node name="Milkey" parent="." instance=ExtResource( 1 )]

editor/display_folded = true
transform/local = Transform( -0.880686, 0, 0.4737, 0, 1, 0, -0.4737, 0, -0.880686, -5.6999, 0, 1.41963 )

[node name="Camera 2" parent="Milkey" instance=ExtResource( 2 )]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
environment = SubResource( 5 )

[node name="Spatial" type="Spatial" parent="."]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )

[node name="ground" type="Quad" parent="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1.84867e-07, 0, 1.13471, 0, 1.13471, 0, -1.13471, 0, -1.84867e-07, 9.72706, 0, 0 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 1 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 1
quad/size = Vector2( 4, 15 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="ground1" type="Quad" parent="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 1 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 1
quad/size = Vector2( 4, 15 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="left" type="Quad" parent="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.14087, -1.95709 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 3 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 15, 5 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="right" type="Quad" parent="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 0, 2.14087, 1.90285 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 3 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 15, 5 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="end" type="Quad" parent="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 0.00625369, 0, -0.99998, 0, 1, 0, 0.99998, 0, 0.00625369, 10.6511, 2.14087, 3.119 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 3 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 15, 5 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="end1" type="Quad" parent="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 7.27981, 2.14087, -9.43953 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 3 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 15, 5 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="end2" type="Quad" parent="Spatial"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 7.33192, 2.14087, 9.33865 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 3 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 15, 5 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="back" type="Quad" parent="Spatial"]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -0.000194743, 0, 1, 0, 1, 0, -1, 0, -0.000194743, -7.20474, 1.73334, 0 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 7 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 5, 7 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="StaticBody" type="StaticBody" parent="Spatial/back"]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
input/ray_pickable = true
input/capture_on_drag = false
shape_count = 1
shapes/0/shape = SubResource( 6 )
shapes/0/transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
friction = 1.0
bounce = 0.0
constant_linear_velocity = Vector3( 0, 0, 0 )
constant_angular_velocity = Vector3( 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Spatial/back/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 6 )
trigger = false
_update_shape_index = 0

[node name="back1" type="Quad" parent="Spatial"]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 0.999994, 0, 0.00337508, 0, 1, 0, -0.00337508, 0, 0.999994, 9.91885, 1.73334, -7.65891 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 7 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 5, 7 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="StaticBody" type="StaticBody" parent="Spatial/back1"]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
input/ray_pickable = true
input/capture_on_drag = false
shape_count = 1
shapes/0/shape = SubResource( 6 )
shapes/0/transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
friction = 1.0
bounce = 0.0
constant_linear_velocity = Vector3( 0, 0, 0 )
constant_angular_velocity = Vector3( 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Spatial/back1/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 6 )
trigger = false
_update_shape_index = 0

[node name="back2" type="Quad" parent="Spatial"]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, 9.91885, 1.73334, 5.72517 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 7 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 5, 7 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="StaticBody" type="StaticBody" parent="Spatial/back2"]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
input/ray_pickable = true
input/capture_on_drag = false
shape_count = 1
shapes/0/shape = SubResource( 6 )
shapes/0/transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
friction = 1.0
bounce = 0.0
constant_linear_velocity = Vector3( 0, 0, 0 )
constant_angular_velocity = Vector3( 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Spatial/back2/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 6 )
trigger = false
_update_shape_index = 0

[node name="doors" type="Spatial" parent="Spatial"]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )

[node name="door" parent="Spatial/doors" instance=ExtResource( 5 )]

transform/local = Transform( 0.00572882, 0.212043, -3.45462e-08, 0, -3.45588e-08, -0.21212, -0.212043, 0.00572882, -9.33346e-10, 6.16497, -1.70239, 2.1069 )

[node name="door1" parent="Spatial/doors" instance=ExtResource( 5 )]

transform/local = Transform( 0.00572882, 0.212043, -3.45462e-08, 0, -3.45588e-08, -0.21212, -0.212043, 0.00572882, -9.33346e-10, 1.17883, -1.70239, 2.1069 )

[node name="door2" parent="Spatial/doors" instance=ExtResource( 5 )]

transform/local = Transform( 0.00572882, 0.212043, -3.45462e-08, 0, -3.45588e-08, -0.21212, -0.212043, 0.00572882, -9.33346e-10, -4.53174, -1.70239, 2.1069 )

[node name="door3" parent="Spatial/doors" instance=ExtResource( 5 )]

transform/local = Transform( 0.00572882, 0.212043, -3.45462e-08, 0, -3.45588e-08, -0.21212, -0.212043, 0.00572882, -9.33346e-10, -4.53174, -1.70239, 5.92175 )

[node name="door4" parent="Spatial/doors" instance=ExtResource( 5 )]

transform/local = Transform( 0.00572882, 0.212043, -3.45462e-08, 0, -3.45588e-08, -0.21212, -0.212043, 0.00572882, -9.33346e-10, 1.20318, -1.70239, 5.92175 )

[node name="door5" parent="Spatial/doors" instance=ExtResource( 5 )]

transform/local = Transform( 0.00572882, 0.212043, -3.45462e-08, 0, -3.45588e-08, -0.21212, -0.212043, 0.00572882, -9.33346e-10, 6.67339, -1.70239, 5.92175 )

[node name="window" parent="Spatial" instance=ExtResource( 6 )]

transform/local = Transform( 0.609078, 0, 0, 0, 0.609078, 0, 0, 0, 0.609078, -9.51331, 0.828316, 0.0553572 )

[node name="StaticBody" type="StaticBody" parent="Spatial"]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
input/ray_pickable = true
input/capture_on_drag = false
shape_count = 6
shapes/0/shape = SubResource( 8 )
shapes/0/transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.282526, 0.0465136, 2.88088 )
shapes/0/trigger = false
shapes/1/shape = SubResource( 8 )
shapes/1/transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.282526, 0.0465136, -2.97519 )
shapes/1/trigger = false
shapes/2/shape = SubResource( 8 )
shapes/2/transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 6.23493, 0.0465136, -9.81508 )
shapes/2/trigger = false
shapes/3/shape = SubResource( 8 )
shapes/3/transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 6.23493, 0.0465136, 11.0202 )
shapes/3/trigger = false
shapes/4/shape = SubResource( 8 )
shapes/4/transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 11.7291, 0.0465136, -1.0812 )
shapes/4/trigger = false
shapes/5/shape = SubResource( 12 )
shapes/5/transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shapes/5/trigger = false
collision/layers = 1
collision/mask = 1
friction = 1.0
bounce = 0.0
constant_linear_velocity = Vector3( 0, 0, 0 )
constant_angular_velocity = Vector3( 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Spatial/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.282526, 0.0465136, 2.88088 )
shape = SubResource( 8 )
trigger = false
_update_shape_index = 0

[node name="CollisionShape1" type="CollisionShape" parent="Spatial/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.282526, 0.0465136, -2.97519 )
shape = SubResource( 8 )
trigger = false
_update_shape_index = 1

[node name="CollisionShape2" type="CollisionShape" parent="Spatial/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 6.23493, 0.0465136, -9.81508 )
shape = SubResource( 8 )
trigger = false
_update_shape_index = 2

[node name="CollisionShape3" type="CollisionShape" parent="Spatial/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 6.23493, 0.0465136, 11.0202 )
shape = SubResource( 8 )
trigger = false
_update_shape_index = 3

[node name="CollisionShape4" type="CollisionShape" parent="Spatial/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 11.7291, 0.0465136, -1.0812 )
shape = SubResource( 8 )
trigger = false
_update_shape_index = 4

[node name="CollisionShape 2" type="CollisionShape" parent="Spatial/StaticBody"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 12 )
trigger = false
_update_shape_index = 5

[node name="Quad 2" parent="Spatial" instance=ExtResource( 7 )]

transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.28362, 0 )
visibility/visible = false

[node name="Quad" type="Quad" parent="."]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 0.376828, 0, 0, 0, 0.376828, 0, 0, 0, 0.376828, 8.9663, 0.937081, 5.72205 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 9 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 3, 5 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="stairs_up" parent="." instance=ExtResource( 9 )]

transform/local = Transform( 0.586605, 0, -0.809873, 0, 1, 0, 0.809873, 0, 0.586605, 11.0504, 0.181775, -6.09453 )

[node name="Spatial 2" type="Spatial" parent="."]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( -1.32306e-07, 0, 0.812089, 0, 0.812089, 0, -0.812089, 0, -1.32306e-07, 10.2238, 0, 0 )

[node name="Quad" type="Quad" parent="Spatial 2"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.836513, 2.98536, 0.428037 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 10 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 1, 1 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="Quad 2" type="Quad" parent="Spatial 2"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.931732, 3.11395, 0.397754 )
layers = 1
geometry/visible = true
geometry/material_override = SubResource( 11 )
geometry/cast_shadow = 1
geometry/receive_shadows = true
geometry/range_begin = 0.0
geometry/range_end = 0.0
geometry/extra_cull_margin = 0.0
geometry/billboard = false
geometry/billboard_y = false
geometry/depth_scale = false
geometry/visible_in_all_rooms = false
geometry/use_baked_light = false
geometry/baked_light_tex_id = 0
quad/axis = 2
quad/size = Vector2( 1, 1 )
quad/offset = Vector2( 0, 0 )
quad/centered = true

[node name="RigidBody" parent="." instance=ExtResource( 12 )]

transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.73047, 0 )

[node name="boulder creator" type="Spatial" parent="."]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.40219, 0 )
script/script = ExtResource( 13 )

[node name="Position3D" type="Position3D" parent="boulder creator"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.09783, 0, 1.21217 )

[node name="Position3D1" type="Position3D" parent="boulder creator"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.09783, 0, -1.8412 )

[node name="Position3D3" type="Position3D" parent="boulder creator"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.35247, 0, 1.63507 )

[node name="Position3D2" type="Position3D" parent="boulder creator"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.35247, 0, -1.8412 )

[node name="Timer" type="Timer" parent="boulder creator"]

process_mode = 1
wait_time = 0.5
one_shot = false
autostart = true

[node name="Node2D" type="Node2D" parent="."]

editor/display_folded = true
visibility/visible = false
script/script = SubResource( 14 )

[node name="Sprite" type="Sprite" parent="Node2D"]

visibility/self_opacity = 0.62
transform/pos = Vector2( 521.187, 310.109 )
transform/scale = Vector2( 105.237, 63.0218 )
texture = SubResource( 13 )

[node name="Messages" type="RichTextLabel" parent="Node2D"]

editor/display_folded = true
visibility/visible = false
rect/scale = Vector2( 3, 3 )
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 242.0
margin/top = 178.0
margin/right = 426.0
margin/bottom = 269.0
bbcode/enabled = false
bbcode/bbcode = ""
visible_characters = -1
percent_visible = 1.0

[node name="Button" type="Button" parent="Node2D/Messages"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 138.0
margin/top = 69.0
margin/right = 180.0
margin/bottom = 89.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
text = "Next"
flat = false

[node name="Options" type="RichTextLabel" parent="Node2D"]

visibility/visible = false
rect/scale = Vector2( 3, 3 )
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 143.0
margin/top = 119.0
margin/right = 388.0
margin/bottom = 251.0
bbcode/enabled = false
bbcode/bbcode = ""
visible_characters = -1
percent_visible = 1.0
__meta__ = {
"_edit_lock_": true
}

[node name="yes" type="Button" parent="Node2D/Options"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 39.0
margin/top = 96.0
margin/right = 84.0
margin/bottom = 117.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
text = "Yes"
flat = false

[node name="no" type="Button" parent="Node2D/Options"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 122.0
margin/top = 96.0
margin/right = 167.0
margin/bottom = 117.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
text = "No"
flat = false

[node name="liftarea" type="Area" parent="."]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8.89868, 0, 5.63368 )
input/ray_pickable = false
input/capture_on_drag = false
shape_count = 1
shapes/0/shape = SubResource( 15 )
shapes/0/transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shapes/0/trigger = false
space_override = 0
gravity_point = false
gravity_distance_scale = 0.0
gravity_vec = Vector3( 0, -1, 0 )
gravity = 9.8
linear_damp = 0.1
angular_damp = 1.0
priority = 0.0
monitoring = true
monitorable = true
collision/layers = 1
collision/mask = 1

[node name="CollisionShape" type="CollisionShape" parent="liftarea"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 15 )
trigger = false
_update_shape_index = 0

[node name="stair area" type="Area" parent="."]

editor/display_folded = true
_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
transform/local = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.75803, 0, -5.89368 )
input/ray_pickable = false
input/capture_on_drag = false
shape_count = 1
shapes/0/shape = SubResource( 16 )
shapes/0/transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shapes/0/trigger = false
space_override = 0
gravity_point = false
gravity_distance_scale = 0.0
gravity_vec = Vector3( 0, -1, 0 )
gravity = 9.8
linear_damp = 0.1
angular_damp = 1.0
priority = 0.0
monitoring = true
monitorable = true
collision/layers = 1
collision/mask = 1

[node name="CollisionShape" type="CollisionShape" parent="stair area"]

_import_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 16 )
trigger = false
_update_shape_index = 0

[node name="CanvasLayer" parent="." instance=ExtResource( 14 )]

[connection signal="timeout" from="boulder creator/Timer" to="boulder creator" method="_on_Timer_timeout"]

[connection signal="button_down" from="Node2D/Messages/Button" to="Node2D" method="_on_Button_button_down"]

[connection signal="button_down" from="Node2D/Options/yes" to="Node2D" method="_on_yes_button_down"]

[connection signal="button_down" from="Node2D/Options/no" to="Node2D" method="_on_no_button_down"]

[connection signal="body_enter" from="liftarea" to="Node2D" method="_on_liftarea_body_enter"]

[connection signal="body_enter" from="stair area" to="Node2D" method="_on_stair_area_body_enter"]


